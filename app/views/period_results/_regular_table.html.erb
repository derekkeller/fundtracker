<table>
	<%= render @header_row_partial %>
	<tr class="<%= cycle('even', 'odd') %>">
		<td colspan="2">Bookings</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.bookings) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Revenue</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Other Revenue</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.revenue) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even','odd') %>">
		<% @company.user_defined_categories.where(:c_type => 1).each do |udc| %>
			<td colspan="2"><%= udc.name %></td>
			<% @operational_summary.period_set.each do |ps| %>
				<td class="right"><%= nh(find_udc_item(udc, ps.expense_line_items).abs) %></td>
			<% end %>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">COGS</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Other COGS</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.cogs) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even','odd') %>">
		<% @company.user_defined_categories.where(:c_type => 2).each do |udc| %>
			<td colspan="2"><%= udc.name %></td>
			<% @operational_summary.period_set.each do |ps| %>
				<td class="right"><%= nh(find_udc_item(udc, ps.expense_line_items).abs) %></td>
			<% end %>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Gross Profit</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.gross_profit) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Gross Margin</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.gross_margin) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Operating Expenses</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">SGA</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.sga) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">R & D</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.r_and_d) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Other Operating Expenses</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.operating_expense) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even','odd') %>">
		<% @company.user_defined_categories.where(:c_type => 3).each do |udc| %>
			<td colspan="2"><%= udc.name %></td>
			<% @operational_summary.period_set.each do |ps| %>
				<td class="right"><%= nh(find_udc_item(udc, ps.expense_line_items).abs) %></td>
			<% end %>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Total Operating Expenses</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.total_operating_expenses) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Operating Profit</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.operating_profit) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Operating Margin</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= ph(ps.operating_margin, 1) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Other Income/Expenses</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Interest Income</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.interest_income) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Other Income</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.other_income) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Tax Expense</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.tax_expense) %></td>
		<% end %>
	</tr>	
	<tr class="<%= cycle('even','odd') %>">
		<% @company.user_defined_categories.where(:c_type => 4).each do |udc| %>
			<td colspan="2"><%= udc.name %></td>
			<% @operational_summary.period_set.each do |ps| %>
				<td class="right"><%= nh(find_udc_item(udc, ps.expense_line_items).abs) %></td>
			<% end %>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Total Miscellaneous</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.total_miscellaneous) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Net Income</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.net_income) %></td>
		<% end %>
	</tr>
	<tr class="<%= cycle('even', 'odd') %>" >
		<td colspan="2">Net Margin</td>
		<% @operational_summary.period_set.each do |ps| %>
			<td class="right"><%= nh(ps.net_margin) %></td>
		<% end %>
	</tr>
</table>